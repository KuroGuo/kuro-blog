extends ./_layout.jade

append head
  link(rel='stylesheet', href='/static/bower_components/codemirror/lib/codemirror.css')
  link(rel='stylesheet', href='/static/stylesheets/dist/admin/article/editor.css')

block main
  form#form_create(method='post', action='/adnia/article/'+action, target="_blank")
    input(type='text', name='title', class='textbox-title', placeholder='标题', required, value=article&&article.title)
    .markdown-editor
      textarea(name='content', class='textarea-content')= article&&article.content
    input(type='submit', class='btn btn-submit', value='发布')
    input(type='submit', name='save_as_draft' class='btn btn-draft', value='存为草稿')
    input(type='submit', name='preview', class='btn btn-preview', value='预览')

append scripts
  script(src='/static/bower_components/codemirror/lib/codemirror.js')
  script(src='/static/bower_components/codemirror/keymap/sublime.js')
  script(src='/static/bower_components/codemirror/mode/markdown/markdown.js')
  script(src='/static/scripts/dist/admin/article/editor.js')